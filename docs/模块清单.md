# MCore.js 模块清单

本文档提供MCore.js框架的模块清单及简要功能说明，便于开发者快速了解框架能力。

## 核心模块

| 模块名称 | 功能描述 | 主要组件 |
|---------|---------|---------|
| `app` | 应用框架核心 | BaseApp、应用生命周期管理、HTTP服务器 |
| `api` | API标准化 | 响应格式化、错误处理、参数验证 |
| `hooks` | 钩子系统 | 钩子注册、钩子执行、上下文传递 |
| `middlewares` | 中间件集合 | 响应处理、请求ID、错误处理、日志处理 |
| `utils` | 工具函数 | 通用工具、日志工具、端口工具 |
| `constants` | 常量定义 | 响应码、环境类型、日志级别、钩子名称 |

## 基础设施模块

| 模块名称 | 功能描述 | 主要组件 |
|---------|---------|---------|
| `logging` | 日志系统 | 日志工厂、日志格式化、多传输支持 |
| `config` | 配置管理 | 配置加载、环境变量、配置合并 |
| `registry` | 服务注册与发现 | 服务注册、服务发现、健康检查 |
| `router` | 路由管理 | 路由注册、参数验证、控制器绑定 |
| `db` | 数据库访问 | 连接池管理、ORM集成、模型加载 |

## 安全模块

| 模块名称 | 功能描述 | 主要组件 |
|---------|---------|---------|
| `auth` | 认证与授权 | JWT认证、会话管理、权限控制 |
| `security` | 安全功能 | 加密解密、密码处理、CSRF防护、XSS防护、CORS配置、HTTP安全头 |
| `audit` | 审计日志 | 操作记录、审计日志存储、审计查询 |

## 弹性模块

| 模块名称 | 功能描述 | 主要组件 |
|---------|---------|---------|
| `resilience` | 弹性机制 | 限流器、熔断器、隔板模式、重试策略、超时控制、降级策略 |
| `monitor` | 监控与指标 | 健康检查、指标收集、性能监控、资源监控 |
| `cache` | 缓存管理 | 缓存策略、多级缓存、缓存失效、分布式缓存 |

## 集成模块

| 模块名称 | 功能描述 | 主要组件 |
|---------|---------|---------|
| `mq` | 消息队列 | 消息发布、消息订阅、多队列支持 |
| `api` | API客户端 | HTTP客户端、REST调用、服务调用 |

## 模块依赖关系

MCore.js的模块依赖关系如下：

- 核心依赖：所有模块都依赖于`utils`和`constants`
- 顶层模块：`app`模块依赖大多数其他模块
- 独立模块：`api`、`logging`、`config`相对独立
- 集成模块：`mq`、`registry`依赖外部系统

## 各模块详细API

每个模块的详细API可参考以下文档：

- [App模块API](./API参考.md#1-app模块)
- [API模块API](./API参考.md#2-api模块)
- [Auth模块API](./API参考.md#3-auth模块)
- [Cache模块API](./API参考.md#4-cache模块)
- [Resilience模块API](./API参考.md#5-resilience模块)
- [Security模块API](./API参考.md#6-security模块)
- [Monitor模块API](./API参考.md#7-monitor模块)
- [Registry模块API](./API参考.md#8-registry模块)
- [Logging模块API](./API参考.md#9-logging模块)

## 扩展与插件

MCore.js支持通过以下机制进行扩展：

1. **钩子系统**：在应用生命周期的关键点注入自定义逻辑
2. **中间件**：扩展HTTP请求处理流程
3. **适配器**：替换特定功能的实现
4. **自定义模块**：编写完全自定义的模块

## 版本兼容性

| MCore.js版本 | Node.js版本 | 主要依赖版本 |
|------------|------------|------------|
| 1.0.x | >= 14.0.0 | Koa 2.x, Sequelize 6.x |
| 1.1.x | >= 16.0.0 | Koa 2.x, Sequelize 6.x | 